# GraphQL schema example
#
# https://gqlgen.com/getting-started/

type User {
  id: ID!
  name: String!
  userName: String!
  photo: String
  phone: String
  company: String
  email: String
  bio: String
  img: String
  joinDate: Date
  verifyType: VerifyType
  verifyName: String
  links: [Link]
}

enum VerifyType {
  TWITTER
  INSTAGRAM
}

enum LinkType{
  WEBSITE
  DISCORD
  INSTAGRAM
  YOUTUBE
  FACEBOOK
  TIKTOK
}

type Link {
  type: LinkType!
  url: String!
}

scalar Date

type Item {
  id: ID!
  name: String!
  tag: String
  description: String
  uploadUrl: String!
  saleStatus: Int!
  price: ItemPrice
  creator: String!
  createDate: Date
}



type ItemPrice {
  type: Int!
  onsale: OnsaleCoin!
  initPrice: Float!
  startDate: Date
  expirationDate: Date

}

type Collection {
  id: ID!
  name: String!
  items: [Item]
  createDate: Date
  createor: String
}

enum walletType {
  BANK
  COIN
  WALLET
}

type wallet {
  type: walletType!
  pubToken: String!
}

type payment {
  itemId: Int!
  payType: Int!
  price: Float!
  payDate: Date
  
}

input Bid {
  itemId: Int!
  balance: Float!
  serviceFee: Float
  total: Float
}



enum SearchType {
  GAME
  VIDEO
  ANIMATION
  PHOTOGRPHY
  ALL
}

input PriceRange {
  max: Float!
  min: Float!
}

enum Blockchain {
  ETHEREUM
  MATIC
  KLAYTN
  SOLANA
  BNB
}



input SearchParm {
  param: String!
  type: SearchType
  price: PriceRange
  chain: Blockchain
  onsale: OnsaleCoin
  creator: String
}

enum OnsaleCoin {
  ETH
  WETH
  oxBTC
}

input uploadItem {
  name: String!
  tag: String
  description: String
  uploadUrl:  [String!]!
  creator: String!
  saleStatus: Int! 
  collection: String
}

input CollectionParm {
  name: String
  creator: String!
}

type Creator {
  name: String
  description: String
  followers: [Int]
  followerNum: Int
}

type Items {
  items: [Item]
}

union CreateorProfile = Creator | Items

type Query {
  searchItems(param:SearchParm!): [Item]
  user(id:ID!): User
  itemDetail(id:ID!): Item
  collection:Collection
  discoverCreator(type: Int): [Creator]
  createorProfile(name: String): CreateorProfile!
}


type Mutation {
  placeBid(bid: Bid): String
  uploadArt(items:[uploadItem!]): [Item!]!
  createCollection(param: CollectionParm!): Collection

}
